<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Reels Exchange">
  <meta name="stories-account-url" content="https://www.instagram.com/" />
  <title>Instagram Reels Exchange</title>
  <link rel="stylesheet" href="assets/styles/liquid-glass.css">
  <link rel="stylesheet" href="assets/styles/animations.css">
  <link rel="stylesheet" href="assets/styles/ios26-progress.css">
  <link rel="apple-touch-icon" href="assets/images/icon.png">
  <script defer src="scripts/app.js"></script>
</head>
<body>
  <div id="app">
    <div id="intro-screen" class="intro-screen">
      <h1 class="intro-title">Instagram Reels Exchange</h1>
    </div>

    <header class="glass card">
      <div class="header-content">
        <h1>Instagram Reels Exchange</h1>
        <div class="theme-switch-wrapper">
          <span class="theme-label">Theme</span>
          <label class="theme-switch" for="checkbox">
            <input type="checkbox" id="checkbox" />
            <div class="slider"></div>
          </label>
        </div>
      </div>
    </header>

    <div id="stories-modal" class="overlay hidden">
      <div class="stories-modal glass card">
        <div class="stories-modal__header">
          <h2>Watch stories</h2>
          <button id="stories-modal-close" type="button" class="ghost-btn" aria-label="Close">
            ‚úï
          </button>
        </div>
        <p class="stories-modal__text">
          This short guide shows how to find the secret code inside the first Instagram account. Tap the button below to open stories.
        </p>
        <label class="checkbox-row">
          <input type="checkbox" id="stories-modal-hide" />
          <span>Don't show this window again</span>
        </label>
        <button id="stories-modal-open" class="primary-btn">Open stories</button>
      </div>
    </div>

    <section id="onboarding-step1" class="mission-screen">
      <h2>Welcome on board</h2>
      <p class="mission-subtitle">Choose your city and language to personalise the mission briefing.</p>
      <div class="city-picker glass card">
        <label for="city-input">Your city</label>
        <div class="city-input-wrapper">
          <input id="city-input" type="text" autocomplete="off" placeholder="Start typing your city" />
          <button id="change-city" type="button" class="ghost-btn hidden">Change</button>
        </div>
        <ul id="city-suggestions" class="city-suggestions"></ul>
        <div id="city-confirmed" class="selection-hint hidden">City selected</div>
      </div>
      <div class="language-picker glass card">
        <h3>Choose your language</h3>
        <div id="language-options" class="language-options">
          <button class="language-option" type="button" data-language="en">
            <img src="assets/images/Flag_of_the_United_States_and_United_Kingdom.png" alt="English" />
            <span>ENG</span>
          </button>
          <button class="language-option" type="button" data-language="es">
            <img src="assets/images/Flag_of_Spain_and_Mexico.png" alt="Espa√±ol" />
            <span>ESP</span>
          </button>
          <button class="language-option" type="button" data-language="pt">
            <img src="assets/images/Flags_of_Brazil_and_Portugal.png" alt="Portugu√™s" />
            <span>PTG</span>
          </button>
          <button class="language-option" type="button" data-language="fr">
            <img src="assets/images/Flag_of_Canada_and_France.png" alt="Fran√ßais" />
            <span>FRA</span>
          </button>
        </div>
      </div>
      <div id="step1-error" class="error hidden"></div>
      <button id="step1-next" class="primary-btn wide">Continue</button>
    </section>

    <div id="mission-progress" class="mission-progress hidden">
      <span class="mission-dot" data-step="1"></span>
      <span class="mission-dot" data-step="2"></span>
      <span class="mission-dot" data-step="3"></span>
    </div>

    <section id="mission-step2" class="mission-screen hidden">
      <h2>Mission launch</h2>
      <div class="status-board glass card">
        <div class="board-row">
          <span class="label">Uploaded Reels</span>
          <span id="board-reels-count" class="value">0 / 1500</span>
        </div>
        <div class="board-row">
          <span class="label">Spots taken</span>
          <span id="board-spots-count" class="value">0 / 500</span>
        </div>
        <div class="board-row">
          <span class="label">Premium queue</span>
          <span id="board-premium-count" class="value">0</span>
        </div>
      </div>
      <p class="mission-text">Your Reels will talk to the algorithm. Take the first action to join the queue.</p>
      <button id="open-stories-trigger" class="primary-btn wide">Find CODE in stories</button>
      <p class="mission-note">Menu buttons stay locked until the mission is completed.</p>
    </section>

    <section id="mission-step4" class="mission-screen hidden">
      <h2>Log the findings</h2>
      <p class="mission-text">Stories watched. Share your proof to unlock the next phase.</p>
      <label for="mission-reel-link">Paste your Reels link</label>
      <input type="url" id="mission-reel-link" class="glass input" placeholder="https://www.instagram.com/reel/..."
             inputmode="url" autocapitalize="none" autocomplete="off" spellcheck="false" />
      <p class="hint">Example: https://www.instagram.com/reel/ABC123/</p>
      <label for="mission-code">Enter nine-digit code</label>
      <input type="tel" id="mission-code" class="glass input code-field" maxlength="9" pattern="\d{9}"
             inputmode="numeric" placeholder="000000000" />
      <div id="mission-step4-error" class="error hidden"></div>
      <button id="launch-reel-btn" class="primary-btn wide">Run Reel</button>
      <button id="reopen-stories" class="secondary-btn wide">Open stories again</button>
    </section>

    <section id="mission-step5" class="mission-screen hidden">
      <h2>Success!</h2>
      <p class="mission-text">Your Reel is already getting views.</p>
      <div id="advice-card" class="advice-card glass card" role="button" tabindex="0">
        <span class="advice-title">Useful advice</span>
        <span id="advice-text" class="advice-text">Tap to discover more tips.</span>
      </div>
      <button id="go-to-menu-btn" class="primary-btn wide">Go to menu</button>
    </section>

    <nav id="bottom-menu" class="bottom-menu hidden glass card locked">
      <button class="menu-btn" data-view="faq">
        <span class="menu-icon">‚ùì</span>
        <span>FAQ</span>
      </button>
      <button class="menu-btn" data-view="profile">
        <span class="menu-icon">üë§</span>
        <span>Profile</span>
      </button>
      <button class="menu-btn" data-view="referral">
        <span class="menu-icon">ü§ù</span>
        <span>Referral</span>
      </button>
    </nav>

    <section id="faq-view" class="menu-view hidden glass card">
      <h2>Contact SUPPORT</h2>
      <p class="mission-subtitle">Useful advices:</p>
      <div id="faq-accordion" class="faq-accordion">
        <div class="faq-item">
          <button class="faq-question">How does the algorithm find my Reel?</button>
          <div class="faq-answer">
            <p>We analyse the quality of your Reel and match it with the right audience using machine learning models trained on trending content.</p>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-question">What is the 9 digit code?</button>
          <div class="faq-answer">
            <p>The code confirms that you watched the onboarding stories. Each mission comes with a unique code hidden inside the story set.</p>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-question">When will I get the results?</button>
          <div class="faq-answer">
            <p>Analytics refresh every 24 hours. We will notify you in the mini app and via Telegram once the views start growing.</p>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-question">How to upgrade to premium?</button>
          <div class="faq-answer">
            <p>Premium access unlocks additional Reel slots and priority moderation. Contact support to receive the payment link.</p>
          </div>
        </div>
      </div>
      <button id="contact-support" class="secondary-btn wide">Message support</button>
    </section>

    <section id="profile-view" class="menu-view hidden glass card">
      <h2>Your mission profile</h2>
      <div class="profile-block user-block glass">
        <img id="profile-avatar" src="assets/images/placeholder_avatar.png" alt="avatar" class="avatar" />
        <div class="profile-user-meta">
          <span id="profile-nickname" class="nickname">@user</span>
          <span id="profile-location" class="profile-location"></span>
          <span id="profile-language" class="profile-language"></span>
        </div>
      </div>
      <div class="profile-block balance-block glass">
        <div class="balance-info">
          <p class="balance-title">Daily bonus</p>
          <p id="balance-today" class="balance-today">+0 today</p>
        </div>
        <div id="balance-points" class="balance-points">0 ‚ö°</div>
      </div>
      <div class="profile-block reels-grid">
        <div class="reel-card glass" data-slot="1">
          <div class="reel-card__header">
            <span>Reel 1</span>
            <button id="edit-reel-link" type="button" class="secondary-btn btn-compact">Edit</button>
          </div>
          <a id="profile-link" class="reel-link placeholder" href="#" target="_blank" rel="noopener noreferrer">Insert the link to your reel</a>
          <p id="profile-status" class="reel-status">Status: pending</p>
          <div id="reel-edit-panel" class="reel-edit-panel hidden">
            <label for="profile-link-input">Reels link</label>
            <input type="url" id="profile-link-input" class="glass input" placeholder="https://www.instagram.com/reel/..."
                   inputmode="url" autocapitalize="none" autocomplete="off" spellcheck="false" />
            <div id="reel-edit-error" class="error hidden"></div>
            <div class="reel-edit-actions">
              <button id="cancel-reel-edit" type="button" class="secondary-btn btn-compact">Cancel</button>
              <button id="save-reel-edit" type="button" class="primary-btn btn-compact">Save</button>
            </div>
          </div>
        </div>
        <div id="premium-reel-2" class="reel-card glass hidden" data-slot="2">
          <div class="reel-card__header">
            <span>Reel 2</span>
            <span class="badge">Premium</span>
          </div>
          <p class="reel-note">Upload another Reel to boost your exposure.</p>
        </div>
        <div id="premium-reel-3" class="reel-card glass hidden" data-slot="3">
          <div class="reel-card__header">
            <span>Reel 3</span>
            <span class="badge">Premium</span>
          </div>
          <p class="reel-note">This slot unlocks priority distribution for premium members.</p>
        </div>
      </div>
      <button id="logout-btn" class="primary-btn logout-btn">Logout</button>
    </section>

    <section id="referral-view" class="menu-view hidden glass card">
      <h2>Refer friends</h2>
      <p>Invite creators and earn bonus points.</p>
      <input type="text" id="referral-link" readonly class="glass input" />
      <p id="referral-count" class="referral-count"></p>
      <div class="referral-actions">
        <button id="copy-referral" class="secondary-btn">Copy link</button>
        <button id="send-referral" class="secondary-btn">Share</button>
      </div>
    </section>
  </div>
</body>
</html>
